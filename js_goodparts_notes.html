<!DOCTYPE HTML>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <meta name="Keywords" content="blog"/>
    <meta name="Description" content="blog"/>
    <title>Simple</title>
    <link rel="shortcut icon" href="/static/favicon.png"/>
    <link rel="stylesheet" type="text/css" href="/main.css" />
</head>
<body>
<div class="main">
    <div class="header">
    	<ul id="pages">
            <li><a href="/">home</a></li>
            <li><a href="/#/tags">tags</a></li>
            <li><a href="/#/archive">archive</a></li>
    	</ul>
    </div>
	<div class="wrap-header">
	<h1>
    <a href="/" id="title"></a>
	</h1>
	</div>
<div id="md" style="display: none;">
<!-- markdown -->
《Javascript Good Parts》读书笔记
================================

Part 1 Good Parts
----------------------------
Javascript is getting more and more popular now

>Good Parts:
>	- function
>	- loose typing
>	- dynamic objects
>	- object literal notation
>Bad Parts:
>	- Global variables(**They are evil!**)

Part 2 Grammar
-----------------------------
####Comment
	
	- //  (recommended)
	- /* */  (Not safe because it can occur in regex)

####Number

JS only has a single number type. Internally, it is a 64-bit floating point. So 1 and 1.0 are the same value.
isNaN() function to detect NaN.

####Strings

All characters are 16 bits wide. Immutable.

Part 3 Objects
-----------------------------
####JS types

Immutable
	- Number
	- String
	- boolean
null
undefined

objects
	- property, can be any string, including **empty string**
	- value, can be any JS value except **undefined**

####Retrieval

retrieve a nonexistent member
```javascript
flight.status // undefined
```
The || operator can be used to fill in default values:
```javascript
var middle = stooge["middle-name"] || "(none)";
```
Attempting to retrieve valus from **undefined** will throw a **TypeError** exception. Can be guarded against with && operator:
```javascript
flight.equipment && flight.equipment.model
```

####Reference
Objects are passed around by reference. They are **never copied**.
```javascript
    var x = another_x;
    x.nickname = "nick";
    var name = another_x.nickname;
    // name is "nick" because x and another_x are references to the same obj
```  
Initialization
```javascript
    var a = {}, b = {}, c = {}; //a, b and c are differenct obj
	var a = b = c = {}; //a, b and c refer to the same empty obj
```
####Prototype
The prototype link is used only in retrieval, has no effect on updating.
When retrieve a property, it would search the prototype link.

####Reflection
typeof 
> **Note:**
> any property on the protorype chain can produce a value

hasOwnProperty
	- it does not look at the prototype chain

####Enumeration
the **for in** statement can loop over all the property names in an obj. It will include all properties -- including functions and prototypes properties. So it is necessary to **filter** out the values.
	- hasOwnProperty
	- typeof 
```javascript
	var name;
	for(name in another_stooge){
		if(typeof(another_stooge[name]) !== 'function'){
			document.writeln(name + ': ' + another_stooge[name]);
		}
	}
```
> **Note:**
> There is no guarantee on the order of properties.

####Delete
It will remove a property from the object **if it has one**. It will **not** touch any  of the objects in the prototype linkage.

####Global Abatement
Avoid global variable. Skip this part, use module pattern.
<!-- markdown end -->
</div>
<div class="entry" id="main">
<!-- content -->
<h1 id="javascriptgoodparts">《Javascript Good Parts》读书笔记</h1>

<h2 id="part1goodparts">Part 1 Good Parts</h2>

<p>Javascript is getting more and more popular now</p>

<blockquote>
  <p>Good Parts:
     - function
     - loose typing
     - dynamic objects
     - object literal notation
  Bad Parts:
     - Global variables(<strong>They are evil!</strong>)</p>
</blockquote>

<h2 id="part2grammar">Part 2 Grammar</h2>

<h4 id="comment">Comment</h4>

<pre><code>- //  (recommended)
- /* */  (Not safe because it can occur in regex)
</code></pre>

<h4 id="number">Number</h4>

<p>JS only has a single number type. Internally, it is a 64-bit floating point. So 1 and 1.0 are the same value.
isNaN() function to detect NaN.</p>

<h4 id="strings">Strings</h4>

<p>All characters are 16 bits wide. Immutable.</p>

<h2 id="part3objects">Part 3 Objects</h2>

<h4 id="jstypes">JS types</h4>

<p>Immutable
    - Number
    - String
    - boolean
null
undefined</p>

<p>objects
    - property, can be any string, including <strong>empty string</strong>
    - value, can be any JS value except <strong>undefined</strong></p>

<h4 id="retrieval">Retrieval</h4>

<p>retrieve a nonexistent member</p>

<pre><code class="javascript">flight.status // undefined
</code></pre>

<p>The || operator can be used to fill in default values:</p>

<pre><code class="javascript">var middle = stooge["middle-name"] || "(none)";
</code></pre>

<p>Attempting to retrieve valus from <strong>undefined</strong> will throw a <strong>TypeError</strong> exception. Can be guarded against with &amp;&amp; operator:</p>

<pre><code class="javascript">flight.equipment &amp;&amp; flight.equipment.model
</code></pre>

<h4 id="reference">Reference</h4>

<p>Objects are passed around by reference. They are <strong>never copied</strong>.</p>

<pre><code class="javascript">    var x = another_x;
    x.nickname = "nick";
    var name = another_x.nickname;
    // name is "nick" because x and another_x are references to the same obj
</code></pre>

<p><br>
Initialization</p>

<pre><code class="javascript">    var a = {}, b = {}, c = {}; //a, b and c are differenct obj
    var a = b = c = {}; //a, b and c refer to the same empty obj
</code></pre>

<h4 id="prototype">Prototype</h4>

<p>The prototype link is used only in retrieval, has no effect on updating.
When retrieve a property, it would search the prototype link.</p>

<h4 id="reflection">Reflection</h4>

<p>typeof </p>

<blockquote>
  <p><strong>Note:</strong>
  any property on the protorype chain can produce a value</p>
</blockquote>

<p>hasOwnProperty
    - it does not look at the prototype chain</p>

<h4 id="enumeration">Enumeration</h4>

<p>the <strong>for in</strong> statement can loop over all the property names in an obj. It will include all properties -- including functions and prototypes properties. So it is necessary to <strong>filter</strong> out the values.
    - hasOwnProperty
    - typeof </p>

<pre><code class="javascript">    var name;
    for(name in another_stooge){
        if(typeof(another_stooge[name]) !== 'function'){
            document.writeln(name + ': ' + another_stooge[name]);
        }
    }
</code></pre>

<blockquote>
  <p><strong>Note:</strong>
  There is no guarantee on the order of properties.</p>
</blockquote>

<h4 id="delete">Delete</h4>

<p>It will remove a property from the object <strong>if it has one</strong>. It will <strong>not</strong> touch any  of the objects in the prototype linkage.</p>

<h4 id="globalabatement">Global Abatement</h4>

<p>Avoid global variable. Skip this part, use module pattern.</p>
<!-- content end -->
</div>
<br>
<br>
    <div id="disqus_thread"></div>
	<div class="footer">
		<p>© Copyright 2015 by Xiang Li</p>
	</div>
</div>
<script src="main.js"></script>
<script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
<script type="text/x-mathjax-config">
    MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ["\\(", "\\)"]], processEscapes: true}});
</script>
<script id="content" type="text/mustache">
    <h1>{{title}}</h1>
    <div class="tag">
    {{date}}
    {{#tags}}
    <a href="/#/tag/{{name}}">#{{name}}</a>
    {{/tags}}
    </div>
</script>
<script id="pagesTemplate" type="text/mustache">
    {{#pages}}
    <li>
        <a href="{{path}}">{{title}}</a>
    </li>
    {{/pages}}
</script>
<script>
$(document).ready(function() {
    $.ajax({
        url: "main.json",
        type: "GET",
        dataType: "json",
        success: function(data) {
            $("#title").html(data.name);
            var pagesTemplate = Hogan.compile($("#pagesTemplate").html());
            var pagesHtml = pagesTemplate.render({"pages": data.pages});
            $("#pages").append(pagesHtml);
            //path
            var path = "js_goodparts_notes.html";
            //path end
            var now = 0;
            for (var i = 0; i < data.posts.length; ++i)
                if (path == data.posts[i].path)
                    now = i;
            var post = data.posts[now];
            var tmp = post.tags.split(" ");
            var tags = [];
            for (var i = 0; i < tmp.length; ++i)
                if (tmp[i].length > 0)
                    tags.push({"name": tmp[i]});
            var contentTemplate = Hogan.compile($("#content").html());
            var contentHtml = contentTemplate.render({"title": post.title, "tags": tags, "date": post.date});
            $("#main").prepend(contentHtml);
            if (data.disqus_shortname.length > 0) {
                var disqus_shortname = data.disqus_shortname;
                (function() {
                    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
                    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
                    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
                })();
            }
        }
    });
});
</script>
</body>
</html>
